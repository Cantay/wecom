<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>
        <record id="res_config_settings_view_form" model="ir.ui.view">
            <field name="name">Enterprise WeChat Enterprise JSAPI Setting</field>
            <field name="model">res.config.settings</field>
            <field name="inherit_id" ref="wxwork_base.res_config_settings_view_form"/>
            <field name="arch" type="xml">
                 <xpath expr="//div[@data-key='wxwork_base']//div[hasclass('o_settings_container')][last()]" position="after">
                    <h2 id="wxwork_jsapi" class="d-flex justify-content-between">
                        <span class="text-left"><i class="fa fa-cloud fa-lg"/> Enterprise WeChat JSAPI</span>
                        <span class="text-right">
                            <i class="fa fa-angle-double-up"/>
                        </span>
                    </h2>
                    <div class="row mt16 o_settings_container">
                        <div class="col-xs-12 col-md-12 o_setting_box">
                            <div class="o_setting_left_pane">
                                <i class="fa fa-info fa-lg"/>
                            </div>
                            <div class="o_setting_right_pane">
                                <div class="row">
                                    <div class="text-muted col-md-12">
                                        jsapi_ticket is a temporary ticket for the H5 application to call the enterprise WeChat JS interface. Under normal circumstances, the validity period of jsapi_ticket is 7200 seconds, which can be obtained through access_token. Because the number of api calls to get jsapi_ticket is very limited (a company can get up to 400 times within an hour, and a single application cannot exceed 100 times), frequent refreshing of jsapi_ticket will limit api calls and affect their own business.
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-xs-12 col-md-6 o_setting_box">
                            <div class="o_setting_left_pane">
                                <i class="fa fa-ticket fa-lg"/>
                            </div>
                            <div class="o_setting_right_pane">
                                <label for="corp_jsapi_ticket"/>
                                <div class="row">
                                    <div class="text-muted col-md-12">
                                        <span style="color:orange">
                                            <i class="fa fa-info-circle"/>
                                            The ticket has been cached and the system will automatically refresh the ticket.
                                        </span>
                                    </div>
                                </div>
                                <div class="content-group">
                                    <div class="mt16">
                                        <field name="corp_jsapi_ticket" readonly="1" style="word-break:break-all;width: 100%;border: 1px solid #ccc;border-top-style: none;border-right-style: none;border-left-style: none;" />
                                    </div>
                                </div>
                            </div>
                        </div>                        
                        <div class="col-xs-12 col-md-6 o_setting_box">
                            <div class="o_setting_left_pane">
                                <i class="fa fa-ticket fa-lg"/>
                            </div>
                            <div class="o_setting_right_pane">
                                <label for="agent_jsapi_ticket"/>
                                <div class="row">
                                    <div class="text-muted col-md-12">
                                        <span style="color:orange;">
                                            <i class="fa fa-info-circle"/>
                                            The ticket has been cached and the system will automatically refresh the ticket.
                                        </span>
                                    </div>
                                </div>
                                <div class="content-group">
                                    <div class="mt16">
                                        <field name="agent_jsapi_ticket" readonly="1" style="word-break:break-all;width: 100%;border: 1px solid #ccc;border-top-style: none;border-right-style: none;border-left-style: none;" />
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-xs-12 col-md-6 o_setting_box">
                            <div class="o_setting_left_pane">
                                <i class="fa fa fa-clock-o fa-lg"/>
                            </div>
                            <div class="o_setting_right_pane">
                                <label for="get_ticket_last_time"/>
                                <div class="row">
                                    <div class="text-muted col-md-12">
                                        <span style="color:orange;">
                                            <i class="fa fa-info-circle"/>
                                            Validity period is 7200 seconds
                                        </span>
                                    </div>
                                </div>
                                <div class="content-group">
                                    <div class="mt16">
                                        <field name="get_ticket_last_time" readonly="1" style="word-break:break-all;width: 100%;border: 1px solid #ccc;border-top-style: none;border-right-style: none;border-left-style: none;"/>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-xs-12 col-md-6 o_setting_box">
                            <div class="o_setting_left_pane">
                                <i class="fa fa fa-clock-o fa-lg"/>
                            </div>
                            <div class="o_setting_right_pane">
                                <label for="ticket_interval_time"/>
                                <div class="row">
                                    <div class="text-muted col-md-12">
                                        <span style="color:orange;"><i class="fa fa-info-circle"/> Recommended within 2 hours.Used to detect the time interval between tickets and scheduled tasks.</span>
                                    </div>
                                </div>
                                <div class="content-group">
                                    <div class="mt16">
                                        <field name="ticket_interval_time" class="oe_inline"/>
                                        <field name="ticket_interval_type" class="oe_inline"/>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-xs-12 col-md-6 o_setting_box">
                            <div class="o_setting_left_pane">
                                <field name="debug_enabled"/>
                            </div>
                            <div class="o_setting_right_pane">
                                <label for="jsapi_debug"/>
                                <div class="row">
                                    <div class="text-muted col-md-12">
                                        <span style="color:orange;"><i class="fa fa-info-circle"/> Turn on the debugging mode, the return value of all apis called will be alert on the client. If you want to view the incoming parameters, you can open it on the PC side. The parameter information will be printed out through the log, and it will only be printed on the PC side.</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-xs-12 col-md-12 o_setting_box">
                            <div class="o_setting_left_pane"></div>
                            <div class="o_setting_right_pane">
                                <label for="js_api_list"/>
                                <div class="row">
                                    <div class="text-muted col-md-6">
                                        
                                    </div>
                                </div>
                                <div class="content-group">
                                    <div class="mt16">
                                        <field name="js_api_list" widget="text" style="word-break:break-all;width: 100%;border: 1px solid #ccc;border-top-style: none;border-right-style: none;border-left-style: none;"/>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-xs-12 col-md-12 o_setting_box">
                            <div class="o_setting_right_pane">
                                <div class="row">
                                    <div class="text-muted col-md-6">
                                        <button name="get_jsapi_ticket" type="object" string="test to get JS API Ticket" class="oe_highlight mb-1"/>
                                    </div>
                                    <div class="text-muted col-md-6">
                                        <button name="update_cron_ticket_interval_time" type="object" string="Set up automatic tasks" class="oe_highlight mb-1"/>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </xpath>
            </field>
        </record>
    </data>
</odoo>